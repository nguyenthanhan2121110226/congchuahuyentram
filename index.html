<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ§§ ChÃºc má»«ng nÄƒm BÃ­nh Ngá» 2026 ğŸ</title>

<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">

<style>
:root{
  --pink:#ff5fa2;
  --red:#e60026;
  --gold:#ffd36a;
}

*{
  box-sizing:border-box;
  -webkit-tap-highlight-color: transparent;
}

body{
  margin:0;
  min-height:100vh;
  background:
    radial-gradient(circle at top,#fff1b8,transparent 40%),
    linear-gradient(135deg,#ff5f9e,#b8002a);
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
  font-family:'Quicksand',sans-serif;
}

/* BACKGROUND */
.bgLight{
  position:fixed;
  inset:0;
  background:
    radial-gradient(circle at 20% 20%,rgba(255,255,255,.15),transparent 35%),
    radial-gradient(circle at 80% 40%,rgba(255,255,255,.15),transparent 35%),
    radial-gradient(circle at 50% 85%,rgba(255,215,120,.35),transparent 45%);
  animation: shimmer 12s infinite alternate;
}

@keyframes shimmer{
  from{opacity:.5}
  to{opacity:1}
}

.horse77{
  position:fixed;
  font-size:180px;
  opacity:.12;
  filter:blur(.8px);
  animation: horseFloat 12s infinite ease-in-out;
}

@keyframes horseFloat{
  0%,100%{transform:translateY(0) rotate(0)}
  50%{transform:translateY(-35px) rotate(6deg)}
}

/* MAIN CARD */
.envelope{
  width:92%;
  max-width:540px;
  background:linear-gradient(145deg,#fff7fb,#ffe1ec);
  border-radius:40px;
  padding:32px 24px 36px;
  text-align:center;
  border:4px solid var(--gold);
  box-shadow:
    0 0 80px rgba(255,210,120,.95),
    inset 0 0 18px rgba(255,255,255,.45);
  position:relative;
  animation:float 6s ease-in-out infinite;
  backdrop-filter: blur(14px);
  perspective:1200px;
}

@keyframes float{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-14px)}
}

.flipWrap{
  transition:transform 1s cubic-bezier(.25,.8,.25,1);
  transform-style:preserve-3d;
}

.flipWrap.flipped{
  transform:rotateY(180deg);
}

h1{
  font-family:'Pacifico',cursive;
  font-size:34px;
  line-height:1.25;
  color:var(--red);
  margin-bottom:20px;
  text-shadow:0 0 22px rgba(255,190,100,1);
}

/* BUTTON */
button{
  width:100%;
  padding:16px 14px;
  border-radius:22px;
  border:none;
  margin:12px 0;
  font-size:17px;
  font-weight:600;
  background:linear-gradient(135deg,var(--red),var(--gold));
  color:white;
  cursor:pointer;
  transition:.35s cubic-bezier(.25,.8,.25,1);
  box-shadow:0 0 24px rgba(255,180,60,.95);
}

button:hover{transform:scale(1.07);filter:brightness(1.1)}
button:active{transform:scale(.95)}

/* CONTENT */
.content{
  display:none;
  margin-top:18px;
  animation:cinema .8s cubic-bezier(.25,.8,.25,1);
}

@keyframes cinema{
  from{opacity:0; transform:perspective(800px) rotateX(18deg) scale(.85)}
  to{opacity:1; transform:perspective(800px) rotateX(0) scale(1)}
}

.text{
  background:linear-gradient(145deg,#fff9fc,#ffe6ef);
  border-radius:22px;
  padding:20px;
  line-height:1.8;
  font-size:15.8px;
  color:#8b002f;
  max-height:48vh;
  overflow-y:auto;
  box-shadow: inset 0 0 24px rgba(255,120,160,.35);
}

/* SPIN */
.spinBox{
  margin:22px auto 14px;
  width:210px;
  height:210px;
  border-radius:50%;
  border:9px solid var(--gold);
  background:conic-gradient(var(--red),var(--pink),var(--gold),var(--red));
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:56px;
  box-shadow:0 0 45px rgba(255,200,80,1);
}

.spinAnim{
  animation:spin 3.5s cubic-bezier(.18,.75,.25,1) forwards;
}

@keyframes spin{
  to{transform:rotate(2160deg)}
}

/* MODAL */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.55);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:999;
  backdrop-filter: blur(3px);
}

.modalBox{
  background:linear-gradient(145deg,#fff6fa,#ffe1ec);
  border-radius:28px;
  padding:26px 22px;
  width:85%;
  max-width:360px;
  text-align:center;
  border:4px solid var(--gold);
  box-shadow:0 0 50px rgba(255,200,80,1);
  animation:zoom .45s ease;
}

@keyframes zoom{
  from{opacity:0; transform:scale(.7)}
  to{opacity:1; transform:scale(1)}
}

.modalBox img{
  width:230px;
  border-radius:18px;
  border:4px solid var(--gold);
  box-shadow:0 0 22px rgba(255,180,60,.95);
  margin:12px 0;
}

/* MUSIC */
.musicBtn{
  position:fixed;
  bottom:18px;
  right:18px;
  width:60px;
  height:60px;
  border-radius:50%;
  background:linear-gradient(135deg,var(--red),var(--gold));
  border:none;
  color:white;
  font-size:26px;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 0 28px rgba(255,200,80,1);
  cursor:pointer;
  z-index:9999;
}

.spinIcon{ animation:spin 4s linear infinite }

/* FALL */
.fall,.confetti{
  position:fixed;
  top:-20px;
  animation:fall linear infinite;
  pointer-events:none;
  filter:drop-shadow(0 0 8px rgba(255,200,120,.75));
}

@keyframes fall{
  to{
    transform:translateY(110vh) rotate(720deg);
    opacity:0;
  }
}

canvas{
  position:fixed;
  inset:0;
  pointer-events:none;
}

/* Ripple */
.ripple{
  position:fixed;
  width:20px;
  height:20px;
  border-radius:50%;
  border:2px solid rgba(255,255,255,.7);
  animation:ripple .6s ease-out forwards;
  pointer-events:none;
}

@keyframes ripple{
  to{transform:scale(12);opacity:0;}
}
</style>
</head>

<body>

<div class="bgLight"></div>
<div class="horse77">ğŸ</div>
<canvas id="fireworks"></canvas>

<div class="envelope glow">
  <div class="flipWrap" id="flipWrap">

    <h1>ğŸ§§ ChÃºc má»«ng nÄƒm BÃ­nh Ngá» 2026 ğŸ§§</h1>

    <button ondblclick="openWish()">ğŸ’Œ áº¤n Ä‘Ãºp má»Ÿ lá»i chÃºc</button>
    <button ondblclick="openLucky()">ğŸ áº¤n Ä‘Ãºp má»Ÿ lÃ¬ xÃ¬</button>

    <div id="wish" class="content">
      <div class="text">
        Happy new year ğŸ’–<br><br>
        Má»™t nÄƒm cÅ© Ä‘Ã£ qua, má»™t nÄƒm má»›i láº¡i Ä‘áº¿n. Anh chÃºc cho gia Ä‘Ã¬nh em luÃ´n bÃ¬nh an, khoáº» máº¡nh vÃ  phÃ¡t lá»™c phÃ¡t tÃ i.<br><br>
        ChÃºc riÃªng em luÃ´n vui váº», háº¡nh phÃºc bÃªn gia Ä‘Ã¬nh vÃ  báº¡n bÃ¨.<br><br>
        ChÃºc em luÃ´n khoáº», tráº», xinh, Ä‘áº¹p vÃ  Ä‘áº¡t Ä‘Æ°á»£c káº¿t quáº£ tá»‘t trong nÄƒm há»c sáº¯p tá»›i.<br><br>
        ChÃºc nhá»¯ng Ä‘iá»u tá»‘t lÃ nh sáº½ Ä‘áº¿n vá»›i em.<br><br>
        â€œ ChÃºc em táº¥t cáº£, trá»« váº¥t váº£ â€ âœ¨
      </div>
    </div>

    <div id="lucky" class="content">
      <div class="text">
        ğŸ€ ChÃºc báº¡n may máº¯n ğŸ€<br>
        Quay vÃ²ng quay Ä‘á»ƒ nháº­n lá»™c Ä‘áº§u nÄƒm ğŸ’–
        <div class="spinBox" id="spinBox">ğŸ§§</div>
        <button onclick="spin()">ğŸ‰ Quay nháº­n lá»™c ğŸ‰</button>
      </div>
    </div>

  </div>
</div>

<!-- MODAL -->
<div class="modal" id="modal"></div>

<!-- MUSIC -->
<button class="musicBtn" id="musicBtn">ğŸµ</button>
<audio id="music" loop>
  <source src="./music/tet.mp3.mp3" type="audio/mpeg">
</audio>

<script>
const wish=document.getElementById("wish");
const lucky=document.getElementById("lucky");
const spinBox=document.getElementById("spinBox");
const modal=document.getElementById("modal");
const flipWrap=document.getElementById("flipWrap");

let trollCount=0,trolling=false;

/* ===== CORE ===== */
function ultraOpen(){
  flipWrap.classList.toggle("flipped");
}

function openWish(){
  ultraOpen();
  wish.style.display="block";
  lucky.style.display="none";
  startRain();
  boom();
}

function openLucky(){
  if(trolling) return;
  trolling=true;
  trollCount=0;
  showTroll();
}

/* ===== TROLL ===== */
const trollText=[
"Báº¡n cháº¯c cháº¯n muá»‘n nháº­n lÃ¬ xÃ¬ khÃ´ng ğŸ˜",
"Khoan Ä‘Ã£... suy nghÄ© ká»¹ chÆ°a ğŸ¤”",
"áº¤n thÃªm phÃ¡t ná»¯a cho cháº¯c ğŸ˜",
"á»¦a váº«n chÆ°a bá» cuá»™c Ã  ğŸ˜†",
"âœ¨ ThÃªm tÃ­ ná»¯a âœ¨",
"Ok ok... láº§n cuá»‘i ğŸ˜ˆ"
];

function showTroll(){
  modal.style.display="flex";
  modal.innerHTML=`<div class="modalBox">
  <h3>${trollText[trollCount]}</h3>
  <button onclick="nextStep()">OK</button></div>`;
}

function nextStep(){
  trollCount++;
  if(trollCount<trollText.length) showTroll();
  else{
    trolling=false;
    modal.style.display="none";
    lucky.style.display="block";
    wish.style.display="none";
    startRain();
    boom();
  }
}

/* ===== SPIN ===== */
function spin(){
  spinBox.classList.remove("spinAnim");
  void spinBox.offsetWidth;
  spinBox.classList.add("spinAnim");
  setTimeout(showQR,3000);
}

function showQR(){
  modal.style.display="flex";
  modal.innerHTML=`
  <div class="modalBox">
    <h3>ğŸ‰ Nháº­n lÃ¬ xÃ¬ ğŸ‰</h3>
    <img src="./IMG_2758.jpeg">
    <a href="https://lixi.momo.vn/lixi/QYwxlG1Omremw2l" target="_blank">
      <button>ğŸ’° Nháº­n ngay ğŸ’°</button>
    </a>
    <button onclick="modal.style.display='none'">ÄÃ³ng</button>
  </div>`;
}

/* ===== MUSIC ===== */
const music=document.getElementById("music");
const musicBtn=document.getElementById("musicBtn");
let started=false;

function autoPlay(){
  if(!started){
    music.play();
    started=true;
    musicBtn.classList.add("spinIcon");
  }
}
document.addEventListener("click",autoPlay,{once:true});

musicBtn.onclick=e=>{
  e.stopPropagation();
  music.paused?music.play():music.pause();
  musicBtn.classList.toggle("spinIcon");
};

/* ===== FALL (OPTIMIZED) ===== */
function startRain(){
  if(window.raining) return;
  window.raining=true;
  setInterval(()=>{
    const el=document.createElement("div");
    el.className="fall";
    el.innerHTML=["ğŸ§§","ğŸŒ¸","âœ¨","ğŸ’–","ğŸ’°"][Math.floor(Math.random()*5)];
    el.style.left=Math.random()*100+"vw";
    el.style.fontSize=16+Math.random()*18+"px";
    el.style.animationDuration=10+Math.random()*6+"s";
    document.body.appendChild(el);
    setTimeout(()=>el.remove(),14000);
  },900); // tá»« 450 â†’ 900 (giáº£m 50% táº£i)
}

/* ===== CONFETTI (LIGHT) ===== */
function confettiBurst(x=innerWidth/2,y=innerHeight/3){
  for(let i=0;i<16;i++){ // tá»« 40 â†’ 16
    const el=document.createElement("div");
    el.className="confetti";
    el.innerHTML=["ğŸ§§","âœ¨","ğŸ’–","ğŸ†"][Math.floor(Math.random()*4)];
    el.style.left=x+rand(-70,70)+"px";
    el.style.fontSize=14+Math.random()*18+"px";
    el.style.animationDuration=4+Math.random()*3+"s";
    document.body.appendChild(el);
    setTimeout(()=>el.remove(),6000);
  }
}

/* ===== FIREWORK CANVAS (LIGHT) ===== */
const canvas=document.getElementById("fireworks");
const ctx=canvas.getContext("2d");

function resize(){
  canvas.width=innerWidth;
  canvas.height=innerHeight;
}
resize();onresize=resize;

let particles=[];

function boom(){
  for(let i=0;i<14;i++){ // tá»« 28 â†’ 14
    particles.push({
      x:Math.random()*canvas.width,
      y:Math.random()*canvas.height/2,
      r:Math.random()*2+2,
      dx:(Math.random()-0.5)*5,
      dy:(Math.random()-0.5)*5,
      life:80
    });
  }
}

let lastTime=0;
function draw(t){
  if(t-lastTime<33){requestAnimationFrame(draw);return;}
  lastTime=t;

  ctx.clearRect(0,0,canvas.width,canvas.height);
  particles.forEach((p,i)=>{
    ctx.beginPath();
    ctx.fillStyle=`hsl(${Math.random()*360},100%,70%)`;
    ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx.fill();
    p.x+=p.dx;
    p.y+=p.dy;
    p.life--;
    if(p.life<=0) particles.splice(i,1);
  });
  requestAnimationFrame(draw);
}
draw();

/* ===== RIPPLE LIGHT ===== */
document.addEventListener("click",e=>{
  ripple(e.clientX,e.clientY);
  confettiBurst(e.clientX,e.clientY);
});

function ripple(x,y){
  const r=document.createElement("div");
  r.className="ripple";
  r.style.left=x-10+"px";
  r.style.top=y-10+"px";
  document.body.appendChild(r);
  setTimeout(()=>r.remove(),600);
}

function rand(min,max){
  return Math.random()*(max-min)+min;
}
</script>
</body>
</html>
